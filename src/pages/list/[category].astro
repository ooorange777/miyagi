---
import BaseLayout from "../../layouts/BaseLayout.astro";
export async function getStaticPaths() {
    const allPosts = await Astro.glob("../posts/*.md");
    const uniqueCategories = [
        ...new Set(allPosts.map((post) => post.frontmatter.categories).flat())
    ];
    return uniqueCategories.map((category) => {const filteredPosts = allPosts.filter((post) => post.frontmatter.categories.includes(category));
        return {
            params: { category },
            props: { posts: filteredPosts },
        };
    });
}
const { category } = Astro.params;
const { posts } = Astro.props;
const author = "ooorange";
const description = "个人博客，记录感想";
---

<BaseLayout pageTitle={category} author={author} description={description}>
    <div slot="main">
        {
            posts.map((post) => (
                <article>
                    <a href={post.url} target="_blank">
                        <p class="text-sm my-2 text-secondary">
                            {post.frontmatter.title}
                        </p>

                        <p class="text-base-content/60">
                            {post.frontmatter.date}
                        </p>
                        <p class="my-1 pb-2 text-base-content/60">
                            {post.frontmatter.description}
                        </p>
                    </a>
                </article>
            ))
        }
    </div>
</BaseLayout>
